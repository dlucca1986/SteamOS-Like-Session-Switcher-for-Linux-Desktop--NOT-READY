# =============================================================================
# SteamMachine-DIY - SDY Game Profile Template
# =============================================================================
# Path:        ~/.config/steamos-diy/games/YourGameName.conf
# Version:     3.2.4
# Description: Per-game environment variables and command injection.
# Repository:  https://github.com/dlucca1986/SteamMachine-DIY
# License:     MIT
# =============================================================================

# --- [ HOW SDY EXECUTES YOUR GAME ] ---
# The final command is built following this exact order:
# [Global Pre] + [Game Pre] + Steam_Executable + [Global Args] + [Game Args]
#
# PRACTICAL EXAMPLE:
# global.conf: PRE="mangohud" | ARGS="-vulkan"
# game.conf:   PRE="gamemoderun" | ARGS="-opengl"
# RESULT: mangohud gamemoderun App.exe -vulkan -opengl
# (Note: In case of conflict, -opengl wins because it is read last)

# -----------------------------------------------------------------------------

# --- [ 1. PRE-COMMAND (PREFIX) ] ---
# Tools or env vars that run BEFORE the game executable.
# CUMULATIVE: [Global Pre] + [Game Pre] + Game.exe
# -----------------------------------------------------------------------------
# ✅ CORRECT SYNTAX:
# export GAME_PRE_COMMAND="mangohud gamemoderun"           # Combined tools (Quoted)
# export GAME_PRE_COMMAND="DXVK_HUD=fps"                   # Environment variables
# export GAME_PRE_COMMAND="taskset -c 0-7"                 # CPU Core Pinning

# ❌ WRONG SYNTAX:
# GAME_PRE_COMMAND="mangohud"                             # Missing 'export' keyword
# export GAME_PRE_COMMAND=mangohud gamemoderun            # Error: Missing quotes
# -----------------------------------------------------------------------------
export GAME_PRE_COMMAND=""


# --- [ 2. GAME ARGUMENTS (SUFFIX) ] ---
# Arguments passed directly AFTER the game executable.
# CUMULATIVE: Game.exe + [Game Args] + [Global Args]
# -----------------------------------------------------------------------------
# ✅ CORRECT SYNTAX:
# export GAME_ARGS="-novid -high"                          # Multiple flags (Quoted)
# export GAME_ARGS="--resolution 1920x1080"                # Args with values
# export GAME_ARGS="-vulkan"                               # Single flag

# ❌ WRONG SYNTAX:
# export GAME_ARGS=-novid -high                           # Error: Quotes are required
# export GAME_ARGS="-novid" -high                         # Error: Broken string
# -----------------------------------------------------------------------------
export GAME_ARGS=""


# =============================================================================
# ! HINTS & TIPS !
# =============================================================================
# - Use 'global.conf' for: Always-on tools (MangoHud, GameMode, global FPS limits).
# - Use 'game.conf' for: Specific fixes (--skip-intro, -windowed, custom paths).
# - Use quotes "" always: Prevents Bash from misinterpreting spaces.
# - NO SPACES around '=': Use 'export VAR="val"', NOT 'export VAR = "val"'.
# =============================================================================

# =============================================================================
# ! DEBUGGING & LOGS !
# =============================================================================
# Check /var/log/steamos-diy.log for:
#   - [LAUNCH]: The wrapper has successfully started.
#   - [ARGS]: Shows the final combined Prefix and Extra args injected.
#   - [DEBUG]: The full final command-line exactly as executed.
#
# Steam Log Sync Tag (check ~/.local/share/Steam/logs/console-linux.txt):
#   --- SDY_REATTIVO_START: [FOLDER_NAME] ---
# =============================================================================
