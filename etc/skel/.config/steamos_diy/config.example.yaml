# =============================================================================
# PROJECT:      SteamMachine-DIY - Dynamic Configuration Examples
# VERSION:      1.3.0 - YAML Architecture
# DESCRIPTION:  Full Gamescope & Environment Mapping (Example Template)
# PHILOSOPHY:   KISS (Keep It Simple, Stupid) - Hardcore Libre Mode
# PATH:         $HOME/.config/steamos_diy/config.example.yaml
# LICENSE:      MIT
# =============================================================================

# --- [ ðŸŸ¢ HOW TO EDIT ] ---
# 1. ACTIVATE: Remove the '#' character at the beginning of a line.
# 2. DEACTIVATE: Add '#' at the start of the line.
# 3. VALUES: Modify values (e.g., -W 1920) as needed.
# 4. CUSTOM FLAGS: Add any new Gamescope flags at the end of the 'flags' list.
# =============================================================================

# --- ENVIRONMENT VARIABLES (Injection) ---
# These variables are injected into the Steam session and game environment.
env_vars:
  # Base performance & hardware settings
  NODEVICE_SELECT: 1
  # INTEL_DEBUG: "noccs"
  # STEAM_GAMESCOPE_VRR_SUPPORTED: 1
  
  # Performance wrapper (e.g., gamemoderun, mangohud)
  # Set to "" to disable the wrapper.
  GAME_WRAPPER: "gamemoderun"
  
  # Extra arguments passed directly to the Steam command
  GAME_EXTRA_ARGS: ""

# --- GAMESCOPE FLAGS (Libre Mode) ---
# Format: Flat list. Every uncommented line starting with '-' is a flag.
# If Gamescope updates, you can just add the new flag here.
flags:
  # --- GENERAL OPTIONS (Resolution & Refresh) ---
  - "-W 1920"                # Internal resolution width
  - "-H 1080"                # Internal resolution height
  # - "-w 1280"              # Output width (if different)
  # - "-h 720"               # Output height (if different)
  - "-r 60"                  # Refresh rate
  - "-f"                     # Fullscreen mode
  - "-e"                     # Steam integration mode

  # --- FILTERS & SCALERS ---
  - "-S fit"                 # Scaler: auto, integer, fit, fill, stretch
  - "-F fsr"                 # Filter: linear, nearest, fsr, nis, pixel
  - "--sharpness 5"          # FSR Sharpness (0-20)

  # --- PERFORMANCE & LATENCY ---
  - "--rt"                   # Use realtime scheduling
  - "--backend auto"         # Backend: auto, drm, sdl, wayland
  # - "--immediate-flips"    # May reduce latency but cause tearing

  # --- HDR & ADVANCED FEATURES ---
  # - "--hdr-enabled"        # Enable HDR output (if supported)
  - "--adaptive-sync"        # Enable VRR / FreeSync
  # - "--mangoapp"           # Enable MangoHud overlay inside Gamescope

# =============================================================================
# --- [ ðŸ“˜ DOCUMENTATION & RULES ] ---
# =============================================================================
# 1. YAML STRUCTURE:
#    The 'env_vars' section uses KEY: VALUE format.
#    The 'flags' section is a LIST (starting with '-').
#
# 2. FUTURE PROOFING:
#    If a new version of Gamescope introduces a flag like '--ultra-low-latency',
#    you don't need to update the Python code. Just add it here under 'flags':
#    - "--ultra-low-latency"
#
# 3. RESULTING COMMAND EXAMPLE:
#    With the active settings above, the launcher will execute:
#    gamemoderun gamescope -W 1920 -H 1080 -r 60 -f -e -S fit -F fsr ... -- steam
# =============================================================================
