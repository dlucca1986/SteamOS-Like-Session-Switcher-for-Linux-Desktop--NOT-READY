# =============================================================================
# PROJECT:      SteamMachine-DIY - Dynamic Configuration Examples
# VERSION:      1.0.0
# DESCRIPTION:  Configuration Examples.
# PHILOSOPHY:   KISS (Keep It Simple, Stupid)
# REPOSITORY:   https://github.com/dlucca1986/SteamMachine-DIY
# PATH:         $HOME/.config/steamOs/config.example
# LICENSE:      MIT
# =============================================================================
# --- [ üü¢ HOW TO EDIT ] ---
# 1. GS_variable=1 (Enable flag) / 0 (Disable) or "value".
# 2. GS_ variables are auto-converted to flags (e.g., GS_rt -> --rt).
# 3. Variables with 'export' are for System Environment or SDY wrapper.
# =============================================================================

# --- [ 1. SYSTEM & ENVIRONMENT ] ---
export INTEL_DEBUG="noccs"
export STEAM_GAMESCOPE_VRR_SUPPORTED=1
export CHECK_INTERVAL=1

# --- [ 2. GLOBAL GAME DEFAULTS (SDY) ] ---
# Used by the 'sdy' wrapper for every game launched.
export GAME_WRAPPER="gamemoderun"
export GAME_EXTRA_ARGS=""

# --- [ 3. OUTPUT & RESOLUTION ] ---
# ‚úÖ CORRECT SYNTAX: GS_variable=value
GS_output_width=1366             # -W (Output resolution)
GS_output_height=768             # -H
GS_nested_width=""               # -w (Game resolution)
GS_nested_height=""              # -h
GS_scaler="fit"                  # -S (auto, integer, fit, fill, stretch)
GS_filter="linear"               # -F (linear, nearest, fsr, nis, pixel)
GS_sharpness=2                   # --sharpness (0 to 20)

# --- [ 4. CORE FEATURES (1=On, 0=Off) ] ---
# ‚úÖ CORRECT SYNTAX: GS_variable=1 or 0
GS_rt=1                          # --rt (Realtime scheduling)
GS_mangoapp=0                    # --mangoapp (Performance overlay)
GS_adaptive_sync=1               # --adaptive-sync (VRR)
GS_immediate_flips=1             # --immediate-flips (Tearing)
GS_xwayland_count=2              # --xwayland-count

# --- [ 5. DISPLAY & ORIENTATION ] ---
GS_borderless=0                  # -b
GS_fullscreen=1                  # -f
# GS_force_orientation="normal"  # --force-orientation (left, right, normal)

# --- [ 6. BACKEND & ADVANCED ] ---
GS_backend="auto"                # --backend (auto, drm, sdl, wayland)

# =============================================================================
# --- [ üìò DOCUMENTATION & SYNTAX RULES ] ---
# =============================================================================

# 1. THE '#' SYMBOL (Commenting)
# -----------------------------------------------------------------------------
# In this SSOTH system, the '#' at the start of a line serves two purposes:
# - Bash ignores the line (it isn't loaded into memory).
# - The Launcher's 'grep' ignores it. If you comment out a GS_ variable,
#   that specific flag will be COMPLETELY REMOVED from the Gamescope command.

# 2. VARIABLE MAPPING (How the command is built)
# -----------------------------------------------------------------------------
# The launcher automatically transforms GS_ variables into CLI flags:
# - If value is 1: Becomes a standalone flag (GS_rt=1 -> --rt)
# - If value is a string: Becomes flag + value (GS_scaler="fit" -> --scaler fit)
# - If value is 0 or empty: The flag is skipped entirely.

# 3. COMMON SYNTAX ERRORS (Avoid these!)
# -----------------------------------------------------------------------------
# BASH IS VERY STRICT ABOUT SPACES.

# ‚ùå WRONG (Spaces around '='):
# export CHECK_INTERVAL = 1
# GS_rt = 1

# ‚úÖ CORRECT (No spaces):
# export CHECK_INTERVAL=1
# GS_rt=1

# ‚ùå WRONG (Missing quotes for strings with spaces):
# export GAME_WRAPPER=mangohud --version

# ‚úÖ CORRECT (Use quotes for strings):
# export GAME_WRAPPER="mangohud --version"

# 4. EXPORT VS. REGULAR VARIABLES
# -----------------------------------------------------------------------------
# - Use 'export' for variables that need to be "seen" by other programs
#   (like Steam, Intel drivers, or the sdy script).
# - Do NOT use 'export' for GS_ variables. The launcher reads them directly
#   from the file text to build the Gamescope command string.

# 5. Based on the settings above, your command will look like this:
# ------------------------------------------------------------------------------
gamescope -e -f --output-width 1366 --output-height 768 --scaler fit --filter linear --sharpness 2 --rt --adaptive-sync --immediate-flips --xwayland-count 2 --backend auto -- steam

# --- END OF EXAMPLES ---
