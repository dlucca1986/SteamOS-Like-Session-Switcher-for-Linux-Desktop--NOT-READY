#!/bin/bash
# =============================================================================
# SteamMachine-DIY - Release Channel Manager
# =============================================================================
# Script:      steamos-select-branch
# Version:     4.0.0
# Philosophy:  KISS
# Description: Compatibility shim for SteamOS update channels.
# =============================================================================

CONF="/etc/default/steamos-diy"
[ -f "$CONF" ] && source "$CONF"

log_info() {
    local msg="[$(date '+%Y-%m-%d %H:%M:%S')] [Branch-Shim] $1"
    echo -e "$1"
    echo "$msg" >> "${LOG_FILE:-/tmp/steamos-diy-fallback.log}"
}

SELECTED_BRANCH=${1:-"stable"}
log_info "Intercepting branch switch request: ${SELECTED_BRANCH}"
log_info "Release channel '${SELECTED_BRANCH}' confirmed (Simulated)."

exit 0
